<mvc:View controllerName="com.exercise.onlinestoresapui5.controller.ProductCatalog"
  displayBlock="true"
  xmlns="sap.m"
  xmlns:f="sap.f"
  xmlns:mvc="sap.ui.core.mvc"
  xmlns:grid="sap.ui.layout.cssgrid">

  <Panel expandable="true"
    expanded="true"
    headerText="Filters"
    width="auto"
    class="sapUiResponsiveMargin">
    <content>
      <VBox class="sapUiTinyMarginBottom">
        <SearchField liveChange=".onSearch"/>

        <HBox class="sapUiTinyMarginTop">
          <VBox class="sapUiTinyMarginEnd"
            width="100%">
            <layoutData>
              <FlexItemData growFactor="1"/>
            </layoutData>
            <Label class="sapUiSmallMarginBegin"
              text="{i18n>filterCategoryLabel}"
              design="Bold"/>
            <Panel height="25rem">
              <List id="idFilterCategory"
                items="{path: 'mockdata>/ZMK_I_CATEGORY', 
                  sorter: {path: 'Category'}
                }"
                mode="MultiSelect"
                includeItemInSelection="true"
                selectionChange=".onFilterCategorySelectionChange">
                <StandardListItem title="{mockdata>Category}"/>
              </List>
            </Panel>
          </VBox>
          <VBox class="sapUiTinyMarginBegin"
            width="100%">
            <layoutData>
              <FlexItemData growFactor="1"/>
            </layoutData>
            <Label class="sapUiSmallMarginBegin"
              text="{i18n>filterBrandLabel}"
              design="Bold"/>
            <Panel height="25rem">
              <List id="idFilterBrand"
                items="{path: 'mockdata>/ZMK_I_BRAND', 
                  sorter: {path: 'Brand'}
                }"
                mode="MultiSelect"
                includeItemInSelection="true"
                selectionChange=".onFilterBrandSelectionChange">
                <StandardListItem title="{mockdata>Brand}"/>
              </List>
            </Panel>
          </VBox>
        </HBox>

        <HBox class="sapUiTinyMarginTop">
          <VBox class="sapUiTinyMarginEnd"
            width="100%">
            <layoutData>
              <FlexItemData growFactor="1"/>
            </layoutData>
            <Label class="sapUiSmallMarginBegin"
              text="{i18n>filterPriceLabel}"
              design="Bold"/>
            <RangeSlider id="idFilterPrice"
              showAdvancedTooltip="true"
              showHandleTooltip="false"
              inputsAsTooltips="true"
              change=".onFilterPriceChange"/>
          </VBox>
          <VBox class="sapUiTinyMarginBegin"
            width="100%">
            <layoutData>
              <FlexItemData growFactor="1"/>
            </layoutData>
            <Label class="sapUiSmallMarginBegin"
              text="{i18n>filterStockLabel}"
              design="Bold"/>
            <RangeSlider id="idFilterStock"
              showAdvancedTooltip="true"
              showHandleTooltip="false"
              inputsAsTooltips="true"
              change=".onFilterStockChange"/>
          </VBox>
        </HBox>
      </VBox>
    </content>
  </Panel>

  <VBox>
    <f:GridList id="idProductCatalog"
      class="sapUiResponsiveContentPadding"
      headerText="{i18n>productCatalogTitle}"
      items="{path: 'mockdata>/ZMK_C_PRODUCT', 
        sorter: {path: 'ID'}
      }"
      growing="true"
      growingScrollToLoad="true"
      updateFinished=".onProductCatalogUpdateFinished">
      <f:customLayout>
        <grid:GridBoxLayout boxMinWidth="22rem"/>
      </f:customLayout>
      <f:GridListItem>
        <VBox class="sapUiSmallMargin"
          height="93%">
          <Title text="{mockdata>Title}"
            wrapping="true"/>
          <Label text="{mockdata>Brand}"
            wrapping="true"/>
          <FlexBox class="sapUiTinyMarginTop">
            <Image src="{mockdata>Thumbnail}"
              mode="Background"
              width="100%"
              height="16rem"
              backgroundSize="cover"
              backgroundPosition="center center">
              <layoutData>
                <FlexItemData growFactor="1"/>
              </layoutData>
            </Image>
          </FlexBox>
          <ObjectNumber class="sapUiSmallMarginTopBottom sapMObjectNumberLarge"
            number="{
              parts: [{path: 'mockdata>Price'}, {path: 'mockdata>Currency'}],
              type: 'sap.ui.model.type.Currency',
              formatOptions: {showMeasure: false}
            }"
            unit="{mockdata>Currency}"/>
          <Text text="{mockdata>Description}">
            <layoutData>
              <FlexItemData growFactor="1"/>
            </layoutData>
          </Text>
          <HBox class="sapUiTinyMarginTop"
            justifyContent="SpaceBetween">
            <Button text="{i18n>productCatalogAddToCartButtonText}"
              width="8rem"
              press=".onAddToCart">
            </Button>
            <Button text="{i18n>productCatalogDetailsButtonText}"
              width="8rem"
              press=".onOpenDetails">
            </Button>
          </HBox>
        </VBox>
      </f:GridListItem>
    </f:GridList>
  </VBox>

</mvc:View>