sap.ui.define(["./BaseController","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/m/ButtonType"],function(t,e,s,o){"use strict";return t.extend("com.exercise.onlinestoresapui5.controller.Details",{onInit:function(){const t=this.getRouter();t.getRoute("details").attachPatternMatched(this._onPatternMatched,this)},onOpenCart:function(){this.navTo("cart")},_onPatternMatched:function(t){const o=+t.getParameter("arguments").id;this.getView().bindElement({path:`/ZMK_C_PRODUCT(${o})`,model:"mockdata"});const n=[];n.push(new e("ProductID",s.EQ,o));const i=this.byId("idMediaGallery");const a=i.getBinding("items");a.filter(n);const r=this.byId("idAddToCartButton");this._setAddToCartButtonAttributes(o,r);const u=this.byId("idQuantityStepInput");this._setQuantityStepInputAttributes(o,u)},onAddToCart:function(t){const e=t.getSource();const s=e.getBindingContext("mockdata");const o=s.getObject();const n=this.byId("idQuantityStepInput");if(!this.oCart.has(o.ID)){this.oCart.add(o.ID,n.getValue(),o.Price)}else{this.oCart.drop(o.ID)}this._refreshCartModel();this._refreshLocalDataModel();this._setAddToCartButtonAttributes(o.ID,e)},_setAddToCartButtonAttributes:function(t,e){const s=this.getResourceBundle();if(this.oCart.has(t)){e.setType(o.Success);e.setText(s.getText("productCatalogDropFromCartButtonText"))}else{e.setType(o.Default);e.setText(s.getText("productCatalogAddToCartButtonText"))}},_setQuantityStepInputAttributes:function(t,e){const s=this.oCart.has(t);if(s){e.setValue(s.q)}else{e.setValue(1)}}})});
//# sourceMappingURL=Details.controller.js.map