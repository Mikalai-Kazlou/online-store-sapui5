sap.ui.define(["./BaseController","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/m/ButtonType"],function(t,e,o,n){"use strict";return t.extend("com.exercise.onlinestoresapui5.controller.Details",{onInit:function(){const t=this.getRouter();t.getRoute("details").attachPatternMatched(this._onPatternMatched,this)},onOpenCart:function(){this.navTo("cart")},_onPatternMatched:function(t){const n=window.decodeURIComponent(t.getParameter("arguments").path);const s=+n.split("(").pop().slice(0,-1);this.getView().bindElement({path:`/${n}`,model:"mockdata"});const i=[];i.push(new e("ProductID",o.EQ,s));const a=this.byId("idMediaGallery");const r=a.getBinding("items");r.filter(i);const u=this.byId("idAddToCartButton");this._setAddToCartButtonAttributes(s,u);const c=this.byId("idQuantityStepInput");this._setQuantityStepInputAttributes(s,c)},onAddToCart:function(t){const e=t.getSource();const o=e.getBindingContext("mockdata");const n=o.getObject();const s=this.byId("idQuantityStepInput");if(!this.oCart.has(n.ID)){this.oCart.add(n.ID,s.getValue())}else{this.oCart.drop(n.ID)}this._refreshCartModel();this._refreshLocalDataModel();this._setAddToCartButtonAttributes(n.ID,e)},onQuantityStepInputChange:function(t){const e=t.getSource();const o=e.getBindingContext("mockdata");const n=o.getObject();this.oCart.replace(n.ID,e.getValue());this._refreshCartModel();this._refreshLocalDataModel()},_setAddToCartButtonAttributes:function(t,e){const o=this.getResourceBundle();if(this.oCart.has(t)){e.setType(n.Success);e.setText(o.getText("productCatalogDropFromCartButtonText"))}else{e.setType(n.Default);e.setText(o.getText("productCatalogAddToCartButtonText"))}},_setQuantityStepInputAttributes:function(t,e){const o=this.oCart.has(t);if(o){e.setValue(o.q)}else{e.setValue(1)}}})});
//# sourceMappingURL=Details.controller.js.map